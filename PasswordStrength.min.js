app.directive("passwordStrength",[function(){return{replace:!1,restrict:"EACM",link:function(n,t,i){var r={colors:["#F00","#F90","#FF0","#9F0","#0F0"],mesureStrength:function(n){var i=0,r,t,u,f,e;if(!n)return i;for(r={},t=0;t<n.length;t++)r[n[t]]=(r[n[t]]||0)+1,i+=5/r[n[t]];u={digits:/\d/.test(n),lower:/[a-z]/.test(n),upper:/[A-Z]/.test(n),nonWords:/\W/.test(n)},f=0;for(e in u)f+=u[e]==!0?1:0;return i+=(f-1)*10,parseInt(i)},getColor:function(n){var t=0;return t=n<=10?0:n<=20?1:n<=30?2:n<=40?3:4,{idx:t+1,col:this.colors[t]}}};n.$watch(i.passwordStrength,function(n){var i,u;n===""?t.hide():(i=r.mesureStrength(n),i=i/2,i>50&&(i=50),u=r.getColor(i),t.show(),t.children("li").css({background:"#DDD"}).slice(0,u.idx).css({background:u.col}))})},template:'<li class="point"><\/li><li class="point"><\/li><li class="point"><\/li><li class="point"><\/li><li class="point"><\/li>'}}])