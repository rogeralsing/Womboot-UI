app.directive("imgSpinner",["$compile","$interpolate",function(n,t){return{restrict:"A",transclude:!0,link:function(i,r){var f,e,o;r.hide();var u=angular.element("<spinner/>"),s=n(u);s(i),f=r.attr("src"),f==undefined&&(f=r.attr("ng-src")),e=t(f),u.insertAfter(r),o=function(){return e(i)},i.$watch(o,function(n){n&&(u.show(),r.hide())});r.on("load",function(){r.show(),u.hide()});u.hide()}}}])